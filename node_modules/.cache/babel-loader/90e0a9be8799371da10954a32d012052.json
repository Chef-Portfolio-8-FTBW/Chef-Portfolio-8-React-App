{"ast":null,"code":"import _slicedToArray from \"/Users/anna/Lambda/3. Web Applications II/4. Build/Chef-Portfolio-8-React-App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/anna/Lambda/3. Web Applications II/4. Build/Chef-Portfolio-8-React-App/src/components/CreatePost.js\";\n//create a form for a chef to make a new post\n// use axios.post request on form submit\n// route back to chef profile page on submit\nimport React, { useState } from \"react\";\nimport NavBar from \"../universal/NavBar\";\nimport Footer from \"../universal/Footer\";\nimport axios from \"axios\";\nimport { Formik, Form, Field } from \"formik\";\nimport * as Yup from \"yup\";\n\nfunction CreatePost(props) {\n  console.log(props);\n  const user = localStorage.getItem(\"user\");\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        recipes = _useState2[0],\n        setRecipes = _useState2[1];\n\n  const userSchema = Yup.object().shape({\n    recipe_name: Yup.string().required(),\n    recipe_ingredients: Yup.string().required(),\n    instructions: Yup.string().required()\n  });\n  return React.createElement(React.Fragment, null, React.createElement(React.Fragment, null, React.createElement(NavBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, \"Create Post\"), React.createElement(Formik, {\n    initialValues: {\n      chef_name: \"\",\n      recipe_name: \"\",\n      //req\n      recipe_photo: \"\",\n      recipe_ingredients: \"\",\n      //req\n      cook_time: \"\",\n      prep_time: \"\",\n      instructions: \"\",\n      //req\n      servings: \"\",\n      user_id: user\n    },\n    onSubmit: (values, tools) => {\n      tools.resetForm(); // props.history.push(`/recipe/${props.match.params.id}`);\n\n      axios.post(\"https://chef-2.herokuapp.com/api/recipes/post\", values).then(res => {\n        console.log(\"SUCCESSFUL\", res);\n        const recipeData = res.data;\n        setRecipes([...recipes, recipeData]);\n        props.history.push(`/chef-profile/${user}`);\n      }).catch(err => {\n        console.log(\"FAILURE\", err);\n      });\n    },\n    validationSchema: userSchema,\n    render: props => {\n      return React.createElement(Form, {\n        className: \"formContainer cpForm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Your name:\", React.createElement(Field, {\n        name: \"chef_name\",\n        type: \"text\",\n        placeholder: \"David Elofson\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      })), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"*Recipe name:\", React.createElement(Field, {\n        name: \"recipe_name\",\n        type: \"text\",\n        placeholder: \"Squash and Feta Flatbread\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      })), props.errors.recipe_name && props.touched.recipe_name ? React.createElement(\"span\", {\n        className: \"red\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, props.errors.recipe_name) : \"\", React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"*Ingredients:\", React.createElement(Field, {\n        name: \"recipe_ingredients\",\n        as: \"textarea\",\n        placeholder: \"List of ingredients needed\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      })), props.errors.ingredients && props.touched.ingredients ? React.createElement(\"span\", {\n        className: \"red\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, props.errors.ingredients) : \"\", React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"*Instructions:\", React.createElement(Field, {\n        name: \"instructions\",\n        as: \"textarea\",\n        placeholder: \"List of instructions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      })), props.errors.instructions && props.touched.instructions ? React.createElement(\"span\", {\n        className: \"red\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, props.errors.instructions) : \"\", React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Cook time:\", React.createElement(Field, {\n        name: \"cook_time\",\n        type: \"text\",\n        placeholder: \"35 minutes\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      })), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"Prep time:\", React.createElement(Field, {\n        name: \"prep_time\",\n        type: \"text\",\n        placeholder: \"20 minutes\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      })), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Servings:\", React.createElement(Field, {\n        name: \"servings\",\n        type: \"text\",\n        placeholder: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      })), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"Add a photo:\", React.createElement(Field, {\n        name: \"recipe_photo\",\n        type: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        className: \"submitButton\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }), React.createElement(Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  })));\n}\n\nexport default CreatePost;","map":{"version":3,"sources":["/Users/anna/Lambda/3. Web Applications II/4. Build/Chef-Portfolio-8-React-App/src/components/CreatePost.js"],"names":["React","useState","NavBar","Footer","axios","Formik","Form","Field","Yup","CreatePost","props","console","log","user","localStorage","getItem","recipes","setRecipes","userSchema","object","shape","recipe_name","string","required","recipe_ingredients","instructions","chef_name","recipe_photo","cook_time","prep_time","servings","user_id","values","tools","resetForm","post","then","res","recipeData","data","history","push","catch","err","errors","touched","ingredients"],"mappings":"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","sourcesContent":["//create a form for a chef to make a new post\n// use axios.post request on form submit\n// route back to chef profile page on submit\n\nimport React, { useState } from \"react\";\n\nimport NavBar from \"../universal/NavBar\";\nimport Footer from \"../universal/Footer\";\nimport axios from \"axios\";\nimport { Formik, Form, Field } from \"formik\";\n\nimport * as Yup from \"yup\";\n\nfunction CreatePost(props) {\n  console.log(props);\n  const user = localStorage.getItem(\"user\");\n\n  const [recipes, setRecipes] = useState([]);\n\n  const userSchema = Yup.object().shape({\n    recipe_name: Yup.string().required(),\n    recipe_ingredients: Yup.string().required(),\n    instructions: Yup.string().required()\n  });\n\n  return (\n    <>\n      <>\n        <NavBar />\n        <h1>Create Post</h1>\n\n        <Formik\n          initialValues={{\n            chef_name: \"\",\n            recipe_name: \"\", //req\n            recipe_photo: \"\",\n            recipe_ingredients: \"\", //req\n            cook_time: \"\",\n            prep_time: \"\",\n            instructions: \"\", //req\n            servings: \"\",\n            user_id: user\n          }}\n          onSubmit={(values, tools) => {\n            tools.resetForm();\n            // props.history.push(`/recipe/${props.match.params.id}`);\n            axios\n              .post(\"https://chef-2.herokuapp.com/api/recipes/post\", values)\n              .then(res => {\n                console.log(\"SUCCESSFUL\", res);\n\n                const recipeData = res.data;\n\n                setRecipes([...recipes, recipeData]);\n                props.history.push(`/chef-profile/${user}`);\n              })\n              .catch(err => {\n                console.log(\"FAILURE\", err);\n              });\n          }}\n          validationSchema={userSchema}\n          render={props => {\n            return (\n              <Form className=\"formContainer cpForm\">\n                <label>\n                  Your name:\n                  <Field\n                    name=\"chef_name\"\n                    type=\"text\"\n                    placeholder=\"David Elofson\"\n                  />\n                </label>\n\n                <label>\n                  *Recipe name:\n                  <Field\n                    name=\"recipe_name\"\n                    type=\"text\"\n                    placeholder=\"Squash and Feta Flatbread\"\n                  />\n                </label>\n                {props.errors.recipe_name && props.touched.recipe_name ? (\n                  <span className=\"red\">{props.errors.recipe_name}</span>\n                ) : (\n                  \"\"\n                )}\n\n                <label>\n                  *Ingredients:\n                  <Field\n                    name=\"recipe_ingredients\"\n                    as=\"textarea\"\n                    placeholder=\"List of ingredients needed\"\n                  />\n                </label>\n                {props.errors.ingredients && props.touched.ingredients ? (\n                  <span className=\"red\">{props.errors.ingredients}</span>\n                ) : (\n                  \"\"\n                )}\n\n                <label>\n                  *Instructions:\n                  <Field\n                    name=\"instructions\"\n                    as=\"textarea\"\n                    placeholder=\"List of instructions\"\n                  />\n                </label>\n                {props.errors.instructions && props.touched.instructions ? (\n                  <span className=\"red\">{props.errors.instructions}</span>\n                ) : (\n                  \"\"\n                )}\n\n                <label>\n                  Cook time:\n                  <Field\n                    name=\"cook_time\"\n                    type=\"text\"\n                    placeholder=\"35 minutes\"\n                  />\n                </label>\n\n                <label>\n                  Prep time:\n                  <Field\n                    name=\"prep_time\"\n                    type=\"text\"\n                    placeholder=\"20 minutes\"\n                  />\n                </label>\n\n                <label>\n                  Servings:\n                  <Field name=\"servings\" type=\"text\" placeholder=\"2\" />\n                </label>\n\n                <label>\n                  Add a photo:\n                  <Field name=\"recipe_photo\" type=\"text\" />\n                </label>\n\n                <input className=\"submitButton\" type=\"submit\" />\n              </Form>\n            );\n          }}\n        />\n        <Footer />\n      </>\n    </>\n  );\n}\n\nexport default CreatePost;\n"]},"metadata":{},"sourceType":"module"}