{"ast":null,"code":"import _objectSpread from \"/Users/anna/Lambda/3. Web Applications II/4. Build/Chef-Portfolio-8-React-App/chef-portfolio-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/anna/Lambda/3. Web Applications II/4. Build/Chef-Portfolio-8-React-App/chef-portfolio-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/anna/Lambda/3. Web Applications II/4. Build/Chef-Portfolio-8-React-App/chef-portfolio-app/src/components/RecipeEditForm.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Page from \"../pages/Page\";\nimport { useParams } from \"react-router\";\nimport { axiosWithAuth } from \"../authentication/AxiosWithAuth\";\n\nconst RecipeEditForm = props => {\n  let _useParams = useParams(),\n      id = _useParams.id;\n\n  const _useState = useState({\n    recipe_name: \"\",\n    recipe_photo: \"\",\n    cook_time: \"\",\n    recipe_ingredients: \"\",\n    instructions: \"\",\n    servings: \"\",\n    prep_time: \"\"\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        editRecipe = _useState2[0],\n        setEditRecipe = _useState2[1];\n\n  useEffect(() => {\n    axiosWithAuth().get(`/api/recipes/recipeid/${id}`).then(res => {\n      console.log(res);\n      setEditRecipe(res.data);\n    });\n  }, [id]);\n\n  const handleChange = e => {\n    setEditRecipe(_objectSpread({}, editRecipe, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    axiosWithAuth().put(`/api/recipes/update/${id}`, editRecipe).then(res => {\n      console.log(res);\n      props.history.push(`/recipe/${id}`);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return React.createElement(Page, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"formContainer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Recipe name:\", React.createElement(\"input\", {\n    name: \"recipe_name\",\n    type: \"text\",\n    placeholder: \"Squash and Feta Flatbread\",\n    value: editRecipe.recipe_name,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"Ingredients:\", React.createElement(\"input\", {\n    name: \"recipe_ingredients\",\n    as: \"textarea\",\n    placeholder: \"List of ingredients needed\",\n    value: editRecipe.recipe_ingredients,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"Cook time:\", React.createElement(\"input\", {\n    name: \"cook_time\",\n    type: \"text\",\n    placeholder: \"35 minutes\",\n    value: editRecipe.cook_time,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Prep time:\", React.createElement(\"input\", {\n    name: \"prep_time\",\n    type: \"text\",\n    placeholder: \"20 minutes\",\n    value: editRecipe.prep_time,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"Instructions:\", React.createElement(\"input\", {\n    name: \"instructions\",\n    as: \"textarea\",\n    placeholder: \"List of instructions\",\n    value: editRecipe.instructions,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, \"Servings:\", React.createElement(\"input\", {\n    name: \"servings\",\n    type: \"text\",\n    placeholder: \"2\",\n    value: editRecipe.servings,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, \"Add a photo:\", React.createElement(\"input\", {\n    name: \"recipe_photo\",\n    type: \"text\",\n    value: editRecipe.recipe_photo,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"submitButton\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, \"Save\")));\n};\n\nexport default RecipeEditForm;","map":{"version":3,"sources":["/Users/anna/Lambda/3. Web Applications II/4. Build/Chef-Portfolio-8-React-App/chef-portfolio-app/src/components/RecipeEditForm.js"],"names":["React","useState","useEffect","Page","useParams","axiosWithAuth","RecipeEditForm","props","id","recipe_name","recipe_photo","cook_time","recipe_ingredients","instructions","servings","prep_time","editRecipe","setEditRecipe","get","then","res","console","log","data","handleChange","e","target","name","value","handleSubmit","preventDefault","put","history","push","catch","err"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,IAAP,MAAiB,eAAjB;AACA,SAASC,SAAT,QAA0B,cAA1B;AACA,SAASC,aAAT,QAA8B,iCAA9B;;AAEA,MAAMC,cAAc,GAAGC,KAAK,IAAI;AAAA,mBACjBH,SAAS,EADQ;AAAA,MACxBI,EADwB,cACxBA,EADwB;;AAAA,oBAGMP,QAAQ,CAAC;AAC3CQ,IAAAA,WAAW,EAAE,EAD8B;AAE3CC,IAAAA,YAAY,EAAE,EAF6B;AAG3CC,IAAAA,SAAS,EAAE,EAHgC;AAI3CC,IAAAA,kBAAkB,EAAE,EAJuB;AAK3CC,IAAAA,YAAY,EAAE,EAL6B;AAM3CC,IAAAA,QAAQ,EAAE,EANiC;AAO3CC,IAAAA,SAAS,EAAE;AAPgC,GAAD,CAHd;AAAA;AAAA,QAGvBC,UAHuB;AAAA,QAGXC,aAHW;;AAa9Bf,EAAAA,SAAS,CAAC,MAAM;AACdG,IAAAA,aAAa,GACVa,GADH,CACQ,yBAAwBV,EAAG,EADnC,EAEGW,IAFH,CAEQC,GAAG,IAAI;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAH,MAAAA,aAAa,CAACG,GAAG,CAACG,IAAL,CAAb;AACD,KALH;AAMD,GAPQ,EAON,CAACf,EAAD,CAPM,CAAT;;AASA,QAAMgB,YAAY,GAAGC,CAAC,IAAI;AACxBR,IAAAA,aAAa,mBACRD,UADQ;AAEX,OAACS,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AAFf,OAAb;AAID,GALD;;AAOA,QAAMC,YAAY,GAAGJ,CAAC,IAAI;AACxBA,IAAAA,CAAC,CAACK,cAAF;AACAzB,IAAAA,aAAa,GACV0B,GADH,CACQ,uBAAsBvB,EAAG,EADjC,EACoCQ,UADpC,EAEGG,IAFH,CAEQC,GAAG,IAAI;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAb,MAAAA,KAAK,CAACyB,OAAN,CAAcC,IAAd,CAAoB,WAAUzB,EAAG,EAAjC;AACD,KALH,EAMG0B,KANH,CAMSC,GAAG,IAAI;AACZd,MAAAA,OAAO,CAACC,GAAR,CAAYa,GAAZ;AACD,KARH;AASD,GAXD;;AAaA,SACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,QAAQ,EAAEN,YAAhB;AAA8B,IAAA,SAAS,EAAC,eAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEE;AACE,IAAA,IAAI,EAAC,aADP;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,WAAW,EAAC,2BAHd;AAIE,IAAA,KAAK,EAAEb,UAAU,CAACP,WAJpB;AAKE,IAAA,QAAQ,EAAEe,YALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,EAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEE;AACE,IAAA,IAAI,EAAC,oBADP;AAEE,IAAA,EAAE,EAAC,UAFL;AAGE,IAAA,WAAW,EAAC,4BAHd;AAIE,IAAA,KAAK,EAAER,UAAU,CAACJ,kBAJpB;AAKE,IAAA,QAAQ,EAAEY,YALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAZF,EAuBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEE;AACE,IAAA,IAAI,EAAC,WADP;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,WAAW,EAAC,YAHd;AAIE,IAAA,KAAK,EAAER,UAAU,CAACL,SAJpB;AAKE,IAAA,QAAQ,EAAEa,YALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAvBF,EAkCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEE;AACE,IAAA,IAAI,EAAC,WADP;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,WAAW,EAAC,YAHd;AAIE,IAAA,KAAK,EAAER,UAAU,CAACD,SAJpB;AAKE,IAAA,QAAQ,EAAES,YALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAlCF,EA6CE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEE;AACE,IAAA,IAAI,EAAC,cADP;AAEE,IAAA,EAAE,EAAC,UAFL;AAGE,IAAA,WAAW,EAAC,sBAHd;AAIE,IAAA,KAAK,EAAER,UAAU,CAACH,YAJpB;AAKE,IAAA,QAAQ,EAAEW,YALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CA7CF,EAwDE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,WAAW,EAAC,GAHd;AAIE,IAAA,KAAK,EAAER,UAAU,CAACF,QAJpB;AAKE,IAAA,QAAQ,EAAEU,YALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAxDF,EAmEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEE;AACE,IAAA,IAAI,EAAC,cADP;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,KAAK,EAAER,UAAU,CAACN,YAHpB;AAIE,IAAA,QAAQ,EAAEc,YAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAnEF,EA4EE;AAAQ,IAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YA5EF,CADF,CADF;AAkFD,CA5HD;;AA8HA,eAAelB,cAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Page from \"../pages/Page\";\nimport { useParams } from \"react-router\";\nimport { axiosWithAuth } from \"../authentication/AxiosWithAuth\";\n\nconst RecipeEditForm = props => {\n  let { id } = useParams();\n\n  const [editRecipe, setEditRecipe] = useState({\n    recipe_name: \"\",\n    recipe_photo: \"\",\n    cook_time: \"\",\n    recipe_ingredients: \"\",\n    instructions: \"\",\n    servings: \"\",\n    prep_time: \"\"\n  });\n\n  useEffect(() => {\n    axiosWithAuth()\n      .get(`/api/recipes/recipeid/${id}`)\n      .then(res => {\n        console.log(res);\n        setEditRecipe(res.data);\n      });\n  }, [id]);\n\n  const handleChange = e => {\n    setEditRecipe({\n      ...editRecipe,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    axiosWithAuth()\n      .put(`/api/recipes/update/${id}`, editRecipe)\n      .then(res => {\n        console.log(res);\n        props.history.push(`/recipe/${id}`);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  return (\n    <Page>\n      <form onSubmit={handleSubmit} className=\"formContainer\">\n        <label>\n          Recipe name:\n          <input\n            name=\"recipe_name\"\n            type=\"text\"\n            placeholder=\"Squash and Feta Flatbread\"\n            value={editRecipe.recipe_name}\n            onChange={handleChange}\n          />\n        </label>\n\n        <label>\n          Ingredients:\n          <input\n            name=\"recipe_ingredients\"\n            as=\"textarea\"\n            placeholder=\"List of ingredients needed\"\n            value={editRecipe.recipe_ingredients}\n            onChange={handleChange}\n          />\n        </label>\n\n        <label>\n          Cook time:\n          <input\n            name=\"cook_time\"\n            type=\"text\"\n            placeholder=\"35 minutes\"\n            value={editRecipe.cook_time}\n            onChange={handleChange}\n          />\n        </label>\n\n        <label>\n          Prep time:\n          <input\n            name=\"prep_time\"\n            type=\"text\"\n            placeholder=\"20 minutes\"\n            value={editRecipe.prep_time}\n            onChange={handleChange}\n          />\n        </label>\n\n        <label>\n          Instructions:\n          <input\n            name=\"instructions\"\n            as=\"textarea\"\n            placeholder=\"List of instructions\"\n            value={editRecipe.instructions}\n            onChange={handleChange}\n          />\n        </label>\n\n        <label>\n          Servings:\n          <input\n            name=\"servings\"\n            type=\"text\"\n            placeholder=\"2\"\n            value={editRecipe.servings}\n            onChange={handleChange}\n          />\n        </label>\n\n        <label>\n          Add a photo:\n          <input\n            name=\"recipe_photo\"\n            type=\"text\"\n            value={editRecipe.recipe_photo}\n            onChange={handleChange}\n          />\n        </label>\n        <button className=\"submitButton\">Save</button>\n      </form>\n    </Page>\n  );\n};\n\nexport default RecipeEditForm;\n"]},"metadata":{},"sourceType":"module"}